<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Laravel | 知行合一</title>
    <meta name="description" content="">
    <link rel="icon" href="/documents/1.png">
    
    <link rel="preload" href="/documents/assets/css/0.styles.52a819ed.css" as="style"><link rel="preload" href="/documents/assets/js/app.44e83760.js" as="script"><link rel="preload" href="/documents/assets/js/2.3e89d58d.js" as="script"><link rel="preload" href="/documents/assets/js/11.1cf59a9e.js" as="script"><link rel="prefetch" href="/documents/assets/js/10.bbb67eb4.js"><link rel="prefetch" href="/documents/assets/js/12.0d15a12a.js"><link rel="prefetch" href="/documents/assets/js/13.4cda9c32.js"><link rel="prefetch" href="/documents/assets/js/14.9d0c6b7a.js"><link rel="prefetch" href="/documents/assets/js/15.11fe2f59.js"><link rel="prefetch" href="/documents/assets/js/16.b9c01a2a.js"><link rel="prefetch" href="/documents/assets/js/17.9d7aaae8.js"><link rel="prefetch" href="/documents/assets/js/18.23fe548c.js"><link rel="prefetch" href="/documents/assets/js/19.c839c199.js"><link rel="prefetch" href="/documents/assets/js/20.314f56eb.js"><link rel="prefetch" href="/documents/assets/js/21.0245c6a8.js"><link rel="prefetch" href="/documents/assets/js/22.adaa0e86.js"><link rel="prefetch" href="/documents/assets/js/23.ecc42d2d.js"><link rel="prefetch" href="/documents/assets/js/24.22faa9bf.js"><link rel="prefetch" href="/documents/assets/js/25.ebd55804.js"><link rel="prefetch" href="/documents/assets/js/26.03a0cea2.js"><link rel="prefetch" href="/documents/assets/js/27.ca6f5f3b.js"><link rel="prefetch" href="/documents/assets/js/28.4eecd553.js"><link rel="prefetch" href="/documents/assets/js/29.735fbc75.js"><link rel="prefetch" href="/documents/assets/js/3.e457a9b9.js"><link rel="prefetch" href="/documents/assets/js/30.9f705c90.js"><link rel="prefetch" href="/documents/assets/js/31.bad49f53.js"><link rel="prefetch" href="/documents/assets/js/32.a48a1a13.js"><link rel="prefetch" href="/documents/assets/js/33.128dde46.js"><link rel="prefetch" href="/documents/assets/js/34.58251c59.js"><link rel="prefetch" href="/documents/assets/js/35.8759ef00.js"><link rel="prefetch" href="/documents/assets/js/36.89525389.js"><link rel="prefetch" href="/documents/assets/js/37.e0b58e56.js"><link rel="prefetch" href="/documents/assets/js/38.b976ddb6.js"><link rel="prefetch" href="/documents/assets/js/39.8891ad46.js"><link rel="prefetch" href="/documents/assets/js/4.5a4e638c.js"><link rel="prefetch" href="/documents/assets/js/40.3bd474e3.js"><link rel="prefetch" href="/documents/assets/js/41.9c7e53d6.js"><link rel="prefetch" href="/documents/assets/js/42.3f6e6796.js"><link rel="prefetch" href="/documents/assets/js/43.09aad8f2.js"><link rel="prefetch" href="/documents/assets/js/44.31893923.js"><link rel="prefetch" href="/documents/assets/js/45.ced0760e.js"><link rel="prefetch" href="/documents/assets/js/46.0399a530.js"><link rel="prefetch" href="/documents/assets/js/5.abbc87de.js"><link rel="prefetch" href="/documents/assets/js/6.376173c5.js"><link rel="prefetch" href="/documents/assets/js/7.b6dc3df5.js"><link rel="prefetch" href="/documents/assets/js/8.ab521c5a.js"><link rel="prefetch" href="/documents/assets/js/9.249da32a.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.52a819ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">知行合一</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue.js" class="dropdown-title"><span class="title">Vue.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vue.html" class="nav-link">Vue.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vuex.html" class="nav-link">Vuex🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/vueRouter.html" class="nav-link">VueRouter🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vue/vue.html" class="nav-link">Vue.js———三汪</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React.js" class="dropdown-title"><span class="title">React.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/react/React.html" class="nav-link">React.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/react/Redux.html" class="nav-link">Redux🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScriptBooks" class="dropdown-title"><span class="title">JavaScriptBooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/jishu/Sass-notes.html" class="nav-link">Sass基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="php" class="dropdown-title"><span class="title">php</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/php基础.html" class="nav-link">php基础</a></li><li class="dropdown-item"><!----> <a href="/documents/php/php面向对象.html" class="nav-link">php面向对象</a></li><li class="dropdown-item"><!----> <a href="/documents/php/MySql.html" class="nav-link">MySql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP操作Mysql.html" class="nav-link">PHP操作mysql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP会话控制.html" class="nav-link">PHP会话控制</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Thinkphp基础.html" class="nav-link">Thinkphp</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Composer.html" class="nav-link">Composer</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Laravel.html" class="nav-link router-link-exact-active router-link-active">Laravel</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/PHPstorm环境配置.html" class="nav-link">PHPstorm环境配置</a></li><li class="dropdown-item"><!----> <a href="/documents/php/环境变量配置.html" class="nav-link">环境变量配置</a></li><li class="dropdown-item"><!----> <a href="/documents/vs/vscode插件.html" class="nav-link">vscode插件</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress使用.html" class="nav-link">vuepress使用🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ErrorLog" class="dropdown-title"><span class="title">ErrorLog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/踩坑记录.html" class="nav-link">Jetbrains全家桶中文乱码</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress踩坑.html" class="nav-link">vuepress</a></li></ul></div></div><div class="nav-item"><a href="/documents//" class="nav-link">Git</a></div><div class="nav-item"><a href="/documents/php/Friend.html" class="nav-link">Friend</a></div><div class="nav-item"><a href="/documents/about/" class="nav-link">留言</a></div> <a href="https://github.com/TimSpan/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue.js" class="dropdown-title"><span class="title">Vue.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vue.html" class="nav-link">Vue.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vuex.html" class="nav-link">Vuex🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/vueRouter.html" class="nav-link">VueRouter🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vue/vue.html" class="nav-link">Vue.js———三汪</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React.js" class="dropdown-title"><span class="title">React.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/react/React.html" class="nav-link">React.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/react/Redux.html" class="nav-link">Redux🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScriptBooks" class="dropdown-title"><span class="title">JavaScriptBooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/jishu/Sass-notes.html" class="nav-link">Sass基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="php" class="dropdown-title"><span class="title">php</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/php基础.html" class="nav-link">php基础</a></li><li class="dropdown-item"><!----> <a href="/documents/php/php面向对象.html" class="nav-link">php面向对象</a></li><li class="dropdown-item"><!----> <a href="/documents/php/MySql.html" class="nav-link">MySql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP操作Mysql.html" class="nav-link">PHP操作mysql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP会话控制.html" class="nav-link">PHP会话控制</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Thinkphp基础.html" class="nav-link">Thinkphp</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Composer.html" class="nav-link">Composer</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Laravel.html" class="nav-link router-link-exact-active router-link-active">Laravel</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/PHPstorm环境配置.html" class="nav-link">PHPstorm环境配置</a></li><li class="dropdown-item"><!----> <a href="/documents/php/环境变量配置.html" class="nav-link">环境变量配置</a></li><li class="dropdown-item"><!----> <a href="/documents/vs/vscode插件.html" class="nav-link">vscode插件</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress使用.html" class="nav-link">vuepress使用🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ErrorLog" class="dropdown-title"><span class="title">ErrorLog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/踩坑记录.html" class="nav-link">Jetbrains全家桶中文乱码</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress踩坑.html" class="nav-link">vuepress</a></li></ul></div></div><div class="nav-item"><a href="/documents//" class="nav-link">Git</a></div><div class="nav-item"><a href="/documents/php/Friend.html" class="nav-link">Friend</a></div><div class="nav-item"><a href="/documents/about/" class="nav-link">留言</a></div> <a href="https://github.com/TimSpan/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Laravel</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documents/php/Laravel.html#laravel安装" class="sidebar-link">Laravel安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#安装-laravel" class="sidebar-link">安装 Laravel</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#通过-laravel-安装工具" class="sidebar-link">通过 Laravel 安装工具</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#通过-composer-create-project" class="sidebar-link">通过 Composer Create-Project</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#本地开发服务器" class="sidebar-link">本地开发服务器</a></li></ul></li><li><a href="/documents/php/Laravel.html#核心概念" class="sidebar-link">核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#http层" class="sidebar-link">HTTP层</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#可用的路由方法" class="sidebar-link">可用的路由方法</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#路由参数" class="sidebar-link">路由参数</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#路由组" class="sidebar-link">路由组</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#获取请求参数" class="sidebar-link">获取请求参数</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#控制器" class="sidebar-link">控制器</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#控制器中每个方法的意义" class="sidebar-link">控制器中每个方法的意义</a></li></ul></li><li><a href="/documents/php/Laravel.html#中间件-middleware" class="sidebar-link">中间件 Middleware</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#创建中间件" class="sidebar-link">创建中间件</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#视图" class="sidebar-link">视图</a></li></ul></li><li><a href="/documents/php/Laravel.html#前端" class="sidebar-link">前端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#模板继承" class="sidebar-link">模板继承</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#创建一个布局文件" class="sidebar-link">创建一个布局文件</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#常见-blade-语法" class="sidebar-link">常见 Blade 语法</a></li></ul></li><li><a href="/documents/php/Laravel.html#数据库" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#laravel-的数据库迁移-migrations" class="sidebar-link">Laravel 的数据库迁移 Migrations</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#laravel-中操作数据库" class="sidebar-link">Laravel 中操作数据库</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#查询构造器" class="sidebar-link">查询构造器</a></li><li class="sidebar-sub-header"><a href="/documents/php/Laravel.html#数据填充" class="sidebar-link">数据填充</a></li></ul></li><li><a href="/documents/php/Laravel.html#orm" class="sidebar-link">ORM</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="laravel"><a href="#laravel" class="header-anchor">#</a> Laravel</h1> <h2 id="laravel安装"><a href="#laravel安装" class="header-anchor">#</a> Laravel安装</h2> <p><a href="https://learnku.com/docs/laravel/5.4" target="_blank" rel="noopener noreferrer">5.4中文文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="安装-laravel"><a href="#安装-laravel" class="header-anchor">#</a> 安装 Laravel</h3> <p>Laravel 使用 <a href="https://getcomposer.org/" target="_blank" rel="noopener noreferrer">Composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来管理代码依赖。所以，在使用 Laravel 之前，请先确认你的电脑上安装了 Composer。</p> <h3 id="通过-laravel-安装工具"><a href="#通过-laravel-安装工具" class="header-anchor">#</a> 通过 Laravel 安装工具</h3> <p>首先，使用 Composer 下载 Laravel 安装包：</p> <div class="language-php extra-class"><pre class="language-php"><code>composer <span class="token keyword">global</span> <span class="token keyword">require</span> <span class="token double-quoted-string string">&quot;laravel/installer&quot;</span>
</code></pre></div><p>请确定你已将 <code>~/.composer/vendor/bin</code> 路径加到 PATH，只有这样系统才能找到 <code>laravel</code> 的执行文件。</p> <p>一旦安装完成，就可以使用 <code>laravel new</code> 命令在指定目录创建一个新的 Laravel 项目，例如：<code>laravel new blog</code> 将会在当前目录下创建一个叫 <code>blog</code> 的目录，此目录里面存放着新安装的 Laravel 和代码依赖。这个方法的安装速度比通过 Composer 安装要快上许多：</p> <div class="language-php extra-class"><pre class="language-php"><code>laravel <span class="token keyword">new</span> <span class="token class-name">blog</span>
</code></pre></div><p>因为代码依赖是直接一起打包安装的。</p> <h3 id="通过-composer-create-project"><a href="#通过-composer-create-project" class="header-anchor">#</a> 通过 Composer Create-Project</h3> <p>除此之外，你也可以通过 Composer 在命令行运行 <code>create-project</code> 命令来安装 Laravel：</p> <div class="language-php extra-class"><pre class="language-php"><code>composer create<span class="token operator">-</span>project <span class="token operator">--</span>prefer<span class="token operator">-</span>dist laravel<span class="token operator">/</span>laravel blog
</code></pre></div><h3 id="本地开发服务器"><a href="#本地开发服务器" class="header-anchor">#</a> 本地开发服务器</h3> <p>如果你在本地安装了 PHP，你可能希望像运行 PHP 内置的开发服务器一样来访问自己的应用程序，你可以使用 <code>serve</code> Artisan 命令来启动一个本地开发服务器，这样你就可以在 <code>http://localhost:8000</code> 来访问它。</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan serve
</code></pre></div><p>不过有更健壮的本地开发选项可用，比如 <a href="https://learnku.com/docs/laravel/5.4/homestead" target="_blank" rel="noopener noreferrer">Homestead<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="https://learnku.com/docs/laravel/5.4/valet" target="_blank" rel="noopener noreferrer">Valet<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p><img src="/documents/assets/img/5.bdeceba4.png" alt=""></p> <p><img src="/documents/assets/img/6.70d1fa27.png" alt=""></p> <p>配置</p> <hr> <p><code>入口目录</code></p> <p>在安装 Laravel 之后，你需要配置你的 Web 服务器的根目录为 <code>public</code> 目录。 这个目录的 <code>index.php</code> 文件作为所有 HTTP 请求进入应用的前端处理器。</p> <p><code>配置文件</code></p> <p>Laravel 框架所有的配置文件都存放在 <code>config</code> 目录下。每个选项都被加入文档</p> <h2 id="核心概念"><a href="#核心概念" class="header-anchor">#</a> 核心概念</h2> <h3 id="http层"><a href="#http层" class="header-anchor">#</a> HTTP层</h3> <p>路由：</p> <p>构建最基本的路由只需要一个 URI 与一个 <code>闭包</code>，这里提供了一个非常简单优雅的定义路由的方法：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>默认路由文件：</p> <p>在 <code>routes/web.php</code> 文件中定义你的 web 页面路由。  。定义在 <code>routes/api.php</code> 中的路由都是无状态的，并且会应用 <code>api</code> 中间件组。</p> <h3 id="可用的路由方法"><a href="#可用的路由方法" class="header-anchor">#</a> 可用的路由方法</h3> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取资源</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建资源</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//更新资源</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//增量更新资源</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除资源</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查阅资源支持哪些方法</span>
</code></pre></div><p>有的时候你可能需要注册一个可响应多个 HTTP 方法的路由，这时你可以使用 <code>match</code> 方法，也可以使用 <code>any</code> 方法注册一个实现响应所有 HTTP 的请求的路由：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'get'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'post'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="路由参数"><a href="#路由参数" class="header-anchor">#</a> 路由参数</h3> <p>有时我们需要在路由中捕获一些 URL 片段。例如，我们需要从 URL 中捕获用户的 ID ，我们可以这样定义路由参数：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'User '</span><span class="token punctuation">.</span><span class="token variable">$id</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>也可以根据需要在路由中定义多个参数：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'posts/{post}/comments/{comment}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$postId</span><span class="token punctuation">,</span> <span class="token variable">$commentId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>路由的参数通常都会被放在 <code>{}</code> 内，并且参数名只能为字母，当运行路由时，参数会通过路由闭包来传递。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>路由参数不能包含 <code>-</code> 字符。请用下划线 (<code>_</code>) 替换。</p></div> <h3 id="路由组"><a href="#路由组" class="header-anchor">#</a> 路由组</h3> <p>常见的分组方式</p> <ul><li><code>前缀分组</code>。<code>命名空间分组</code>。<code>中间件分组</code>。</li></ul> <p>路由组允许共享路由属性，例如中间件和命名空间等，我们没有必要为每个路由单独设置共有属性，共有属性会以数组的形式放到 <code>Route::group</code> 方法的第一个参数中。</p> <p><code>中间件</code></p> <p>要给路由组中定义的所有路由分配中间件，可以在路由组中使用 <code>middleware</code> 键，中间件将会依照列表内指定的顺序运行：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'middleware'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'auth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>
        <span class="token comment">// 使用 `Auth` 中间件</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/profile'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用 `Auth` 中间件</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>命名空间</code></p> <p>另一个常见的例子是，为控制器组指定公共的 <code>PHP</code> 命名空间。这时使用 <code>namespace</code> 参数来指定组内所有控制器的公共命名空间：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'namespace'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Admin'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在 &quot;App\Http\Controllers\Admin&quot; 命名空间下的控制器</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>请记住，默认 <code>RouteServiceProvider</code> 会在命名空间组中引入你的路由文件，让你不用指定完整的 <code>App\Http\Controllers</code> 命名空间前缀就能注册控制器路由，因此，我们在定义的时候只需要指定命名空间 <code>App\Http\Controllers</code> 以后的部分。</p> <p><code>路由前缀</code></p> <p>通过路由组数组属性中的 <code>prefix</code> 键可以给每个路由组中的路由加上指定的 URI 前缀，例如，我们可以给路由组中所有的 URI 加上路由前缀 <code>admin</code> :</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'prefix'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'admin'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>
        <span class="token comment">// 匹配包含 &quot;/admin/users&quot; 的 URL</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取请求参数"><a href="#获取请求参数" class="header-anchor">#</a> 获取请求参数</h3> <p>利用路由指定参数</p> <ul><li><p>在 Route 中使用 <code>{value}</code> 格式规定必传参数</p></li> <li><p>在控制器中可以直接当做 入参 来获取参数值</p></li> <li><p>可以使用 <code>{value？}</code> 格式规定可选参数</p></li></ul> <h3 id="控制器"><a href="#控制器" class="header-anchor">#</a> 控制器</h3> <ul><li>自动生成增删改以及符合 RESTful 规范的路由</li> <li>在 Artisan 中生成控制器时加入 <code>--resource</code> 参数</li> <li>在路由中使用 <code>Route::resources()</code> 生成配套资源路由</li></ul> <h3 id="控制器中每个方法的意义"><a href="#控制器中每个方法的意义" class="header-anchor">#</a> 控制器中每个方法的意义</h3> <ul><li><code>index()</code> 展示所有资源信息</li> <li><code>create()</code> 展示创建表单</li> <li><code>store()</code> 处理创建表单的数据 并整理入库</li> <li><code>show()</code> 展示单个资源信息</li> <li><code>edit()</code> 展示编辑表单</li> <li><code>update()</code> 收集更新表单中的数据 并整理入库</li> <li><code>delete()</code> 删除资源信息</li></ul> <p>自定义资源路由</p> <ul><li>使用 <code>only</code> 关键字指定白名单 。 使用 <code>expect</code> 关键字指定白名单</li></ul> <h2 id="中间件-middleware"><a href="#中间件-middleware" class="header-anchor">#</a> 中间件 Middleware</h2> <p>什么是中间件？</p> <p>Laravel 中间件提供了一种方便的机制来<code>过滤进入应用的 HTTP 请求</code>，例如，Laravel 包含验证用户身份权限的中间件。如果用户没有通过身份验证，中间件会重定向到登录页，引导用户登录。反之，中间件将允许该请求继续传递到应用程序。</p> <p>当然，除了身份验证以外，中间件还可以被用来执行各式各样的任务，如：CORS 中间件负责为所有即将离开应用的响应添加适当的头信息；日志中间件可以记录所有传入应用的请求。</p> <p>Laravel 已经内置了一些中间件，包括身份验证、CSRF 保护等。所有的中间件都放在 <code>app/Http/Middleware</code> 目录内。</p> <h3 id="创建中间件"><a href="#创建中间件" class="header-anchor">#</a> 创建中间件</h3> <div class="language- extra-class"><pre class="language-text"><code>php artisan make:middleware CheckAge
</code></pre></div><p>该命令将会在 <code>app/Http/Middleware</code> 目录内新建一个 <code>CheckAge</code> 类。在这个中间件内，我们仅允许请求的 <code>age</code> 参数小于 200 时访问该路由，否则，会将用户请求重定向到 <code>home</code> URI 。</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Closure</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">CheckAge</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * 处理传入的请求
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @return mixed
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> Closure <span class="token variable">$next</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">age</span> <span class="token operator">&lt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>如你所见，若请求参数 <code>age</code> 小于等于 <code>200</code>，中间件将返回给客户端 HTTP 重定向，反之应用程序才会继续处理该请求。若将请求继续传递到应用程序（即允许通过中间件验证），只需将 <code>$request</code> 作为参数调用 <code>$next</code> 回调函数。</p> <p>最好将中间件想象为一系列的<code>「层」</code>，HTTP 请求必须经过它们才会触发您的应用程序。每一层都可以检测接收的请求，甚至可以完全拒绝请求访问您的应用。</p> <h3 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h3> <div class="language-php extra-class"><pre class="language-php"><code>使用 <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回视图 接受两个参数 路径和数据
在视图中使用 <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$varname</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> 来展示数据
在视图中使用 <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$varname</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> 来展示数据
</code></pre></div><p>视图的用途是用来存放应用程序中 HTML 内容，并且能够将你的控制器层<code>（或应用逻辑层）</code>与展现层分开。视图文件目录为 <code>resources/views</code> ，示例视图如下：</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$name</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>上述视图文件位置为 <code>resources/views/greeting.blade.php</code> ，  通过全局函数 <code>view</code> 来使用这个视图，如下：</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'greeting'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'James'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如你所见，<code>view</code> 函数中，第一个参数是 <code>resources/views</code> 目录中视图文件的文件名，第二个参数是一个数组，数组中的数据可以直接在视图文件中使用。在上面示例中，我们将 <code>name</code> 变量传递到了视图中，并在视图中使用 <a href="https://learnku.com/docs/laravel/5.4/blade" target="_blank" rel="noopener noreferrer">Blade 模板语言<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 打印出来。</p> <h2 id="前端"><a href="#前端" class="header-anchor">#</a> 前端</h2> <p><code>Blade模板</code></p> <p>Blade 是 Laravel 提供的一个既简单又强大的模板引擎。和其他流行的 PHP 模板引擎不一样，Blade 并不限制你在视图中使用原生 PHP 代码。所有 Blade 视图文件都将被编译成原生的 PHP 代码并缓存起来，除非它被修改，否则不会重新编译，这就意味着 Blade 基本上不会给你的应用增加任何额外负担。Blade 视图文件使用 <code>.blade.php</code> 扩展名，一般被存放在 <code>resources/views</code> 目录。</p> <h3 id="模板继承"><a href="#模板继承" class="header-anchor">#</a> 模板继承</h3> <p>先通过一个简单的例子来上手。首先，我们需要确认一个 &quot;master&quot; 的页面布局。因为大多数 web 应用是在不同的页面中使用相同的布局方式，我们可以很方便的定义这个 Blade 布局视图：</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 文件保存于 resources<span class="token operator">/</span>views<span class="token operator">/</span>layouts<span class="token operator">/</span>app<span class="token punctuation">.</span>blade<span class="token punctuation">.</span>php <span class="token operator">--</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>应用程序名称 <span class="token operator">-</span> @<span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        @<span class="token function">section</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'sidebar'</span><span class="token punctuation">)</span>
            这是 master 的侧边栏。
        @show

        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;container&quot;</span><span class="token operator">&gt;</span>
            @<span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>请注意 <code>@section</code> 和 <code>@yield</code> 命令。 <code>@section</code> 命令正如其名字所暗示的一样是用来<code>定义一个视图区块</code>，而 <code>@yield</code> 指令是用来<code>显示指定区块的内容</code>。接着来定义一个继承此布局的子页面</p> <p><code>继承页面布局</code></p> <hr> <p>使用 Blade 提供的 <code>@extends</code> 命令来为子页面指定其所 <code>「继承」</code> 的页面布局。 当子页面继承布局之后，即可使用 <code>@section</code> 命令将内容注入于布局的 <code>@section</code> 区块中。<code>布局中使用 @yield 的地方将会显示这些区块中的内容</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Stored in resources<span class="token operator">/</span>views<span class="token operator">/</span>child<span class="token punctuation">.</span>blade<span class="token punctuation">.</span>php <span class="token operator">--</span><span class="token operator">&gt;</span>

@<span class="token keyword">extends</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'layouts.app'</span><span class="token punctuation">)</span>

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Page Title'</span><span class="token punctuation">)</span>

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'sidebar'</span><span class="token punctuation">)</span>
    @<span class="token keyword">parent</span>

    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is appended to the master sidebar<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
@endsection

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is my body content<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
@endsection
</code></pre></div><p><code>sidebar</code> 区块利用了 <code>@parent</code> 命令追加布局中的 sidebar 区块中的内容，如果不使用则会覆盖掉布局中的这部分内容。 <code>@parent</code> 命令会在视图被渲染时替换为布局中的内容。</p> <h3 id="创建一个布局文件"><a href="#创建一个布局文件" class="header-anchor">#</a> 创建一个布局文件</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">//步骤</span>
定义一个名为 layout<span class="token punctuation">.</span>blade<span class="token punctuation">.</span>php 的主布局文件
定义多个子视图文件，如 菜单、头部页脚等
在其他视图中继承布局文件
  
  
<span class="token comment">//相关语法</span>
@section 定义视图的局部内容 使用 @show 结尾
@<span class="token keyword">yield</span> 定义指定部分的内容
@<span class="token keyword">extends</span> 继承主视图模板
@<span class="token keyword">parent</span> 引用 @section 中的内容且不覆盖
在子视图中的 @section 标签要以 @endsection 标签来结尾
@section 可以独写一行 也可以定义一部分区域  
</code></pre></div><h3 id="常见-blade-语法"><a href="#常见-blade-语法" class="header-anchor">#</a> 常见 Blade 语法</h3> <p><code>普通输出</code></p> <hr> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$varName</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>   输出一个经过转义的变量

<span class="token punctuation">{</span><span class="token operator">!</span><span class="token operator">!</span> <span class="token variable">$varName</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">}</span>    输出变量的原始值

@<span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$varName</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>   保持表达式不变

@<span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   直接输出 json 表达式

@verbatim   输出大段原始表达式
</code></pre></div><p><code>流程控制表达式</code></p> <hr> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span> @<span class="token keyword">else</span><span class="token punctuation">(</span><span class="token punctuation">)</span> @<span class="token keyword">elseif</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token keyword">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

@<span class="token function">unless</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 便捷表达式

@<span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

@<span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> @<span class="token keyword">case</span> @<span class="token keyword">break</span> @<span class="token keyword">default</span> 和 @<span class="token keyword">endswitch</span>

@<span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token function">guest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 认证表达式

@<span class="token function">hasSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token keyword">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 判断 section 是否存在

@<span class="token keyword">for</span> 和 @<span class="token keyword">endfor</span>

@<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token keyword">endforeach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

@<span class="token function">forelse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 、 @<span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 @<span class="token function">endforelse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

@<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>其他表达式</code></p> <hr> <div class="language-php extra-class"><pre class="language-php"><code>@php 和 @endphp 直接运行 <span class="token constant">PHP</span> 代码
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token punctuation">}</span><span class="token punctuation">}</span>  模板注释 结果不会展示在最终输出的 <span class="token constant">HTML</span> 中
</code></pre></div><h2 id="数据库"><a href="#数据库" class="header-anchor">#</a> 数据库</h2> <h3 id="laravel-的数据库迁移-migrations"><a href="#laravel-的数据库迁移-migrations" class="header-anchor">#</a> Laravel 的数据库迁移 Migrations</h3> <p>Laravel 的 <code>Schema</code> <a href="https://learnku.com/docs/laravel/5.4/facades" target="_blank" rel="noopener noreferrer">facade<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 对所有 Laravel 支持的数据库系统提供了创建和操作数据表的相应支持。</p> <p>使用 <code>make:migration</code> <a href="https://learnku.com/docs/laravel/5.4/artisan" target="_blank" rel="noopener noreferrer">Artisan 命令<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来创建迁移：</p> <div class="language- extra-class"><pre class="language-text"><code>php artisan make:migration create_users_table
</code></pre></div><p>新的迁移文件将会被放置在 <code>database/migrations</code> 目录中。每个迁移文件的名称都包含了一个<code>时间戳</code>，以便让 Laravel 确认迁移的顺序。</p> <p><code>--table</code> 和 <code>--create</code> 选项可用来指定数据表的名称，或是该迁移被执行时会创建的新数据表。这些选项需在预生成迁移文件时填入指定的数据表：</p> <h3 id="laravel-中操作数据库"><a href="#laravel-中操作数据库" class="header-anchor">#</a> Laravel 中操作数据库</h3> <ol><li>使用原生SQL语句</li> <li>查询构造器</li> <li>Eloquent ORM</li></ol> <p><code>原生 SQL</code></p> <p>使用 <code>DB::select()</code> <code>DB::insert()</code> <code>DB::update()</code> <code>DB::delete()</code>。</p> <h3 id="查询构造器"><a href="#查询构造器" class="header-anchor">#</a> 查询构造器</h3> <p><code>查询数据</code></p> <ul><li>语法 <code>DB::table()</code> 指定数据库</li> <li>使用 <code>where()</code> 加入条件</li> <li>使用 <code>get()</code> 或 first() 取多条或一条数据</li> <li><code>count()</code> <code>max()</code> <code>min()</code> <code>avg()</code> <code>sum()</code> 统计数据</li> <li>使用 <code>exists()</code> 或 doesntExtist() 判断数据是否存在</li> <li>使用 <code>DB::raw()</code> 加入原生 SQL 语句</li> <li>使用 <code>join()</code> 进行关联表查询</li> <li><code>orderby()</code> 传递 字段 和 排序方式 进行排序</li> <li><code>groupBy()</code> 和 <code>having()</code> 对查询结果进行分组</li></ul> <p><code>插入数据</code></p> <ul><li>使用  <code>insert()</code>  插入一条或多条数据</li> <li>传递数组即为批量插入</li> <li>使用  <code>insertGetId()</code>  获取自增主键的ID值</li></ul> <p><code>更新数据</code></p> <ul><li>使用  <code>update()</code>  更新指定的数据</li> <li><code>increment()</code>  和  decrement() 自增/自减 字段的值</li></ul> <p><code>删除数据</code></p> <ul><li>使用  <code>delete()</code>  删除指定的数据</li> <li>使用  <code>truncate()</code>  清空表</li></ul> <h3 id="数据填充"><a href="#数据填充" class="header-anchor">#</a> 数据填充</h3> <p><code>生成一个 Seeder</code></p> <p>Laravel 可以用 seed 类轻松地为数据库填充测试数据。所有的 seed 类都存放在 <code>database/seeds</code> 目录下。你可以任意为 seed 类命名，但是应该遵守类似 <code>UsersTableSeeder</code> 的命名规范。Laravel 默认定义了一个 <code>DatabaseSeeder</code> 类。可以在这个类中使用 <code>call</code> 方法来运行其它的 seed 类来控制数据填充的顺序。</p> <div class="language- extra-class"><pre class="language-text"><code>php artisan make:seeder UsersTableSeeder
//生成一个 Seeder
</code></pre></div><ul><li>在 <code>run()</code> 方法内定义需要填充的数据</li> <li>运行 <code>php artisan db:seed</code> 命令 填充数据</li></ul> <p>一个 seeder 类只包含一个默认方法：<code>run</code>。这个方法在 <code>db:seed</code> <a href="https://learnku.com/docs/laravel/5.4/artisan" target="_blank" rel="noopener noreferrer">Artisan 命令<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 被调用时执行。在 <code>run</code> 方法里你可以为数据库添加任何数据。你也可以用 <a href="https://learnku.com/docs/laravel/5.4/queries" target="_blank" rel="noopener noreferrer">查询语句构造器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或 <a href="https://learnku.com/docs/laravel/5.4/database-testing#writing-factories" target="_blank" rel="noopener noreferrer">Eloquent 模型工厂<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来手动添加数据。</p> <h2 id="orm"><a href="#orm" class="header-anchor">#</a> ORM</h2> <p>Laravel 的 Eloquent ORM 提供了漂亮、简洁的 ActiveRecord 实现来和数据库进行交互。每个数据库表都有一个对应的<code>「模型」</code>可用来跟数据表进行交互。你可以通过模型查询数据表内的数据，以及将记录添加到数据表中。</p> <p>在开始之前，请确认你已在 <code>config/database.php</code> 文件中设置好了数据库连接。更多数据库的设置信息请查看 <a href="https://learnku.com/docs/laravel/5.4/database#configuration" target="_blank" rel="noopener noreferrer">数据库设置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 文档。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/TimSpan/documents/edit/master/php/Laravel.md" target="_blank" rel="noopener noreferrer">编辑文档！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-12-17 11:56:16</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/documents/assets/js/app.44e83760.js" defer></script><script src="/documents/assets/js/2.3e89d58d.js" defer></script><script src="/documents/assets/js/11.1cf59a9e.js" defer></script>
  </body>
</html>
