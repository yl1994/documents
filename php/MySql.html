<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySql | 知行合一</title>
    <meta name="description" content="">
    <link rel="icon" href="/documents/1.png">
    
    <link rel="preload" href="/documents/assets/css/0.styles.52a819ed.css" as="style"><link rel="preload" href="/documents/assets/js/app.44e83760.js" as="script"><link rel="preload" href="/documents/assets/js/2.3e89d58d.js" as="script"><link rel="preload" href="/documents/assets/js/35.8759ef00.js" as="script"><link rel="prefetch" href="/documents/assets/js/10.bbb67eb4.js"><link rel="prefetch" href="/documents/assets/js/11.1cf59a9e.js"><link rel="prefetch" href="/documents/assets/js/12.0d15a12a.js"><link rel="prefetch" href="/documents/assets/js/13.4cda9c32.js"><link rel="prefetch" href="/documents/assets/js/14.9d0c6b7a.js"><link rel="prefetch" href="/documents/assets/js/15.11fe2f59.js"><link rel="prefetch" href="/documents/assets/js/16.b9c01a2a.js"><link rel="prefetch" href="/documents/assets/js/17.9d7aaae8.js"><link rel="prefetch" href="/documents/assets/js/18.23fe548c.js"><link rel="prefetch" href="/documents/assets/js/19.c839c199.js"><link rel="prefetch" href="/documents/assets/js/20.314f56eb.js"><link rel="prefetch" href="/documents/assets/js/21.0245c6a8.js"><link rel="prefetch" href="/documents/assets/js/22.adaa0e86.js"><link rel="prefetch" href="/documents/assets/js/23.ecc42d2d.js"><link rel="prefetch" href="/documents/assets/js/24.22faa9bf.js"><link rel="prefetch" href="/documents/assets/js/25.ebd55804.js"><link rel="prefetch" href="/documents/assets/js/26.03a0cea2.js"><link rel="prefetch" href="/documents/assets/js/27.ca6f5f3b.js"><link rel="prefetch" href="/documents/assets/js/28.4eecd553.js"><link rel="prefetch" href="/documents/assets/js/29.735fbc75.js"><link rel="prefetch" href="/documents/assets/js/3.e457a9b9.js"><link rel="prefetch" href="/documents/assets/js/30.9f705c90.js"><link rel="prefetch" href="/documents/assets/js/31.bad49f53.js"><link rel="prefetch" href="/documents/assets/js/32.a48a1a13.js"><link rel="prefetch" href="/documents/assets/js/33.128dde46.js"><link rel="prefetch" href="/documents/assets/js/34.58251c59.js"><link rel="prefetch" href="/documents/assets/js/36.89525389.js"><link rel="prefetch" href="/documents/assets/js/37.e0b58e56.js"><link rel="prefetch" href="/documents/assets/js/38.b976ddb6.js"><link rel="prefetch" href="/documents/assets/js/39.8891ad46.js"><link rel="prefetch" href="/documents/assets/js/4.5a4e638c.js"><link rel="prefetch" href="/documents/assets/js/40.3bd474e3.js"><link rel="prefetch" href="/documents/assets/js/41.9c7e53d6.js"><link rel="prefetch" href="/documents/assets/js/42.3f6e6796.js"><link rel="prefetch" href="/documents/assets/js/43.09aad8f2.js"><link rel="prefetch" href="/documents/assets/js/44.31893923.js"><link rel="prefetch" href="/documents/assets/js/45.ced0760e.js"><link rel="prefetch" href="/documents/assets/js/46.0399a530.js"><link rel="prefetch" href="/documents/assets/js/5.abbc87de.js"><link rel="prefetch" href="/documents/assets/js/6.376173c5.js"><link rel="prefetch" href="/documents/assets/js/7.b6dc3df5.js"><link rel="prefetch" href="/documents/assets/js/8.ab521c5a.js"><link rel="prefetch" href="/documents/assets/js/9.249da32a.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.52a819ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">知行合一</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue.js" class="dropdown-title"><span class="title">Vue.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vue.html" class="nav-link">Vue.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vuex.html" class="nav-link">Vuex🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/vueRouter.html" class="nav-link">VueRouter🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vue/vue.html" class="nav-link">Vue.js———三汪</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React.js" class="dropdown-title"><span class="title">React.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/react/React.html" class="nav-link">React.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/react/Redux.html" class="nav-link">Redux🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScriptBooks" class="dropdown-title"><span class="title">JavaScriptBooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/jishu/Sass-notes.html" class="nav-link">Sass基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="php" class="dropdown-title"><span class="title">php</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/php基础.html" class="nav-link">php基础</a></li><li class="dropdown-item"><!----> <a href="/documents/php/php面向对象.html" class="nav-link">php面向对象</a></li><li class="dropdown-item"><!----> <a href="/documents/php/MySql.html" class="nav-link router-link-exact-active router-link-active">MySql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP操作Mysql.html" class="nav-link">PHP操作mysql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP会话控制.html" class="nav-link">PHP会话控制</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Thinkphp基础.html" class="nav-link">Thinkphp</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Composer.html" class="nav-link">Composer</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Laravel.html" class="nav-link">Laravel</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/PHPstorm环境配置.html" class="nav-link">PHPstorm环境配置</a></li><li class="dropdown-item"><!----> <a href="/documents/php/环境变量配置.html" class="nav-link">环境变量配置</a></li><li class="dropdown-item"><!----> <a href="/documents/vs/vscode插件.html" class="nav-link">vscode插件</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress使用.html" class="nav-link">vuepress使用🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ErrorLog" class="dropdown-title"><span class="title">ErrorLog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/踩坑记录.html" class="nav-link">Jetbrains全家桶中文乱码</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress踩坑.html" class="nav-link">vuepress</a></li></ul></div></div><div class="nav-item"><a href="/documents//" class="nav-link">Git</a></div><div class="nav-item"><a href="/documents/php/Friend.html" class="nav-link">Friend</a></div><div class="nav-item"><a href="/documents/about/" class="nav-link">留言</a></div> <a href="https://github.com/TimSpan/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue.js" class="dropdown-title"><span class="title">Vue.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vue.html" class="nav-link">Vue.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/Vuex.html" class="nav-link">Vuex🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vuebase/vueRouter.html" class="nav-link">VueRouter🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/vue/vue.html" class="nav-link">Vue.js———三汪</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React.js" class="dropdown-title"><span class="title">React.js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/react/React.html" class="nav-link">React.js🔨</a></li><li class="dropdown-item"><!----> <a href="/documents/react/Redux.html" class="nav-link">Redux🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScriptBooks" class="dropdown-title"><span class="title">JavaScriptBooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-item"><!----> <a href="/documents/books/你不知道的javascript/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/jishu/Sass-notes.html" class="nav-link">Sass基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="php" class="dropdown-title"><span class="title">php</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/php基础.html" class="nav-link">php基础</a></li><li class="dropdown-item"><!----> <a href="/documents/php/php面向对象.html" class="nav-link">php面向对象</a></li><li class="dropdown-item"><!----> <a href="/documents/php/MySql.html" class="nav-link router-link-exact-active router-link-active">MySql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP操作Mysql.html" class="nav-link">PHP操作mysql</a></li><li class="dropdown-item"><!----> <a href="/documents/php/PHP会话控制.html" class="nav-link">PHP会话控制</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Thinkphp基础.html" class="nav-link">Thinkphp</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Composer.html" class="nav-link">Composer</a></li><li class="dropdown-item"><!----> <a href="/documents/php/Laravel.html" class="nav-link">Laravel</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/PHPstorm环境配置.html" class="nav-link">PHPstorm环境配置</a></li><li class="dropdown-item"><!----> <a href="/documents/php/环境变量配置.html" class="nav-link">环境变量配置</a></li><li class="dropdown-item"><!----> <a href="/documents/vs/vscode插件.html" class="nav-link">vscode插件</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress使用.html" class="nav-link">vuepress使用🔨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ErrorLog" class="dropdown-title"><span class="title">ErrorLog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/php/踩坑记录.html" class="nav-link">Jetbrains全家桶中文乱码</a></li><li class="dropdown-item"><!----> <a href="/documents/php/vuepress踩坑.html" class="nav-link">vuepress</a></li></ul></div></div><div class="nav-item"><a href="/documents//" class="nav-link">Git</a></div><div class="nav-item"><a href="/documents/php/Friend.html" class="nav-link">Friend</a></div><div class="nav-item"><a href="/documents/about/" class="nav-link">留言</a></div> <a href="https://github.com/TimSpan/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documents/php/MySql.html#mysql" class="sidebar-link">MySql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_2-mysql相关操作" class="sidebar-link">2.MySql相关操作</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_3-数据库相关操作" class="sidebar-link">3.数据库相关操作</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_4-数据表相关操作" class="sidebar-link">4.数据表相关操作</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#创建表" class="sidebar-link">创建表</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#表结构相关操作" class="sidebar-link">表结构相关操作</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_5-mysql中的数据类型" class="sidebar-link">5.MYSQL中的数据类型</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_6-mysql存储引擎" class="sidebar-link">6.MYSQL存储引擎</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#myisam存储引擎" class="sidebar-link">MyISAM存储引擎</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#innodb存储引擎" class="sidebar-link">InnoDB存储引擎</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_7-mysql数据操作" class="sidebar-link">7.MYSQL数据操作</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_8-mysql常用函数" class="sidebar-link">8.MYSQL常用函数</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#数学函数" class="sidebar-link">数学函数</a></li><li class="sidebar-sub-header"><a href="/documents/php/MySql.html#_9-图形化工具管理数据库" class="sidebar-link">9.图形化工具管理数据库</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="mysql"><a href="#mysql" class="header-anchor">#</a> MySql</h2> <p>数据库系统(Datebase System):DBS</p> <ul><li>数据库(Datebase)</li> <li>数据库管理系统(Datebase Management System):DBMS</li> <li>应用开发工具</li> <li>管理员及用户</li></ul> <p><em>结构化查询语言</em>(Structured Query Language)简称<em>SQL</em></p> <ul><li>DDL——数据定义语言</li> <li>DML——数据操作语言</li> <li>DQL——数据查询语言</li> <li>DCL——数据控制语言</li></ul> <p><code>Wamp环境下MySql配置文件my.ini位置：\bin\mysql\mysql版本号</code></p> <h3 id="_2-mysql相关操作"><a href="#_2-mysql相关操作" class="header-anchor">#</a> 2.MySql相关操作</h3> <p>配置文件：<code>my.cnf</code></p> <h4 id="登录-退出mysql"><a href="#登录-退出mysql" class="header-anchor">#</a> 登录/退出MySql</h4> <p><code>登录</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code>mysql -uroot -p
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code>mysql -uroot -proot
</code></pre></div><p>登陆的同时打开指定数据库</p> <div class="language-sh extra-class"><pre class="language-sh"><code>mysql -uroot -p -D db_name
</code></pre></div><p>得到版本号</p> <div class="language-sh extra-class"><pre class="language-sh"><code>mysql -V
mysql --version
</code></pre></div><p>退出<code>exit</code> <code>quit</code></p> <p>登录信息中需要掌握的：</p> <ul><li>命令行结束符默认使用;或者\g来结束</li> <li>可以通过help或者\h或者?加上相关关键字来查看手册</li> <li>\c可以取消当前命令的执行</li></ul> <h4 id="sql语句语法规范"><a href="#sql语句语法规范" class="header-anchor">#</a> SQL语句语法规范</h4> <ul><li>常用MySQL的关键字我们需要大写，库名、表名、字段名称等使用小写</li> <li>SQL语句支持折行操作，拆分的时候不能把完整单词拆开</li> <li>数据库名称、表名称、字段名称不要使用MySQL的保留字，如果必须要使用，需要用反引号``将其括起来</li></ul> <h4 id="常用sql语句"><a href="#常用sql语句" class="header-anchor">#</a> 常用SQL语句</h4> <ul><li><p><code>SELECT USER()</code>得到登陆的用户</p></li> <li><p><code>SELECT VERSION()</code>得到MySQL的版本信息</p></li> <li><p><code>SELECT NOW()</code>得到当前的日期时间</p></li> <li><p><code>SELECT DATABASE()</code>得到当前打开的数据库
​</p></li></ul> <h3 id="_3-数据库相关操作"><a href="#_3-数据库相关操作" class="header-anchor">#</a> 3.数据库相关操作</h3> <h4 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h4> <ul><li><p><code>CREATE {DATABASE|SCHEMA} db_name;</code></p></li> <li><p>检测数据库名称是否存在，不存在则创建<code>CREATE DATABASE [IF NOT EXISTS] db_name;</code></p></li> <li><p>在创建数据库的同时指定编码方式<code>CREATE DATABASE [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset;</code></p></li> <li><p>查看当前服务器下全部数据库<code>SHOW DATABASES|SCHEMAS;</code></p></li> <li><p>查看指定数据库的详细信息<code>SHOW CREATE DATABASE db_name;</code></p></li> <li><p>修改指定数据库的编码方式<code>ALTER DATABASE db_name [DEFAULT] CHARACTER SET [=] charset;</code></p></li> <li><p>打开指定数据库<code>USE db_name;</code></p></li> <li><p>得到当前打开的数据库<code>SELECT DATABASE()|SCHEMA();</code></p></li> <li><p>删除指定的数据库<code>DROP DATABASE db_name;</code></p></li> <li><p>如果数据库存在则删除<code>DROP DATABASE [IF EXISTS] db_name;</code></p></li></ul> <h3 id="_4-数据表相关操作"><a href="#_4-数据表相关操作" class="header-anchor">#</a> 4.数据表相关操作</h3> <p><strong>数据表</strong>
是数据库最重要的组成部分之一，数据是保存在数据表中
数据表由<code>行(row)</code>和<code>列(column)</code>来组成
每个数据表中至少有一列，行可以有零行一行或者多行组成
表名要求唯一，不要包含特殊字符，最好含义明确</p> <h3 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h3> <p>​	<strong>CREATE TABLE [IF NOT EXISTS] tbl_name(</strong>
​    <strong>字段名称 字段类型 [完整性约束条件],</strong>
​    <strong>字段名称 字段类型 [完整性约束条件],</strong>
​	<strong>...</strong> <strong>)ENGINE=存储引擎 CHARSET=编码方式;</strong></p> <ul><li><code>UNSIGNED</code>无符号，没有负数，从0开始</li> <li><code>ZEROFILL</code>零填充，当数据的显示长度不够的时候可以使用前补0的效果填充至指定长度,字段会自动添加UNSIGNED</li> <li><code>NOT NULL</code>非空约束，也就是插入值的时候这个字段必须要给值,值不能为空</li> <li><code>DEFAULT</code>默认值，如果插入记录的时候没有给字段赋值，则使用默认值</li> <li><code>PRIMARY KEY</code>主键，标识记录的唯一性，值不能重复，一个表只能有一个主键，自动禁止为空</li> <li><code>AUTO_INCREMENT</code>自动增长，只能用于数值列，而且配合索引使用,默认起始值从1开始，每次增长1</li> <li><code>UNIQUE KEY</code>唯一性，一个表中可以有多个字段是唯一索引，同样的值不能重复，但是NULL值除外</li> <li><code>FOREIGN KEY</code>外键约束	
​</li></ul> <p><strong>查看当前数据库下已有数据表</strong></p> <ul><li>SHOW TABLES;</li> <li>SHOW [FULL] TABLES [{FROM | IN} db_name]</li> <li>[LIKE 'pattern' | WHERE expr]</li></ul> <p><strong>查看指定数据表的详细信息</strong>
SHOW CREATE TABLE tbl_name;</p> <p><strong>查看表结构</strong></p> <ul><li>DESC tbl_name;</li> <li>DESCRIBE tbl_name;</li> <li>SHOW COLUMNS FROM tbl_name;</li></ul> <p><strong>删除指定的数据表</strong>
DROP TABLE [IF EXISTS] tbl_name;</p> <h3 id="表结构相关操作"><a href="#表结构相关操作" class="header-anchor">#</a> 表结构相关操作</h3> <ol><li><strong>添加字段</strong><code>ALTER TABLE tbl_name</code>, <code>ADD 字段名称 字段属性 [完整性约束条件] [FIRST|AFTER 字段名称]</code></li> <li><strong>删除字段</strong><code>ALTER TABLE tbl_name</code>,<code>DROP 字段名称</code></li> <li><strong>添加默认值</strong><code>ALTER TABLE tbl_name</code>,<code>ALTER 字段名称 SET DEFAULT 默认值;</code></li> <li><strong>删除默认值</strong><code>ALTER TABLE tbl_name</code>,<code>ALTER 字段名称 DROP DEFAULT</code></li> <li><strong>修改字段类型、字段属性</strong><code>ALTER TABLE tbl_name</code>,<code>MODIFY 字段名称 字段类型 [字段属性] [FIRST | AFTER 字段名称]</code></li> <li><strong>修改字段名称、字段类型、字段属性</strong><code>ALTER TABLE tbl_name</code>,<code>CHANGE 原字段名称 新字段名称 字段类型 字段属性 [FIRST | AFTER 字段名称]</code></li> <li><strong>添加主键</strong><code>ALTER TABLE tbl_name</code>,<code>ADD PRIMARY KEY(字段名称)</code></li> <li><strong>删除主键</strong><code>ALTER TABLE tbl_name</code>,<code>DROP PRIMARY KEY;</code></li> <li><strong>添加唯一</strong><code>ALTER TABLE tbl_name</code>,<code>ADD UNIQUE KEY|INDEX [index_name] (字段名称)</code></li> <li><strong>删除唯一</strong><code>ALTER TABLE tbl_name</code> ,<code>DROP index_name;</code></li> <li><strong>修改数据表名称</strong><code>ALTER TABLE tbl_name</code> ,<code>RENAME [TO|AS] new_tbl_name</code>,<code>RENAME TABLE tbl_name TO new_tbl_name;</code></li> <li><strong>修改AUTO_INCREMENT的值</strong><code>ALTER TABLE tbl_name AUTO_INCREMENT=值</code>	​​</li></ol> <h3 id="_5-mysql中的数据类型"><a href="#_5-mysql中的数据类型" class="header-anchor">#</a> 5.MYSQL中的数据类型</h3> <h4 id="整数型"><a href="#整数型" class="header-anchor">#</a> 整数型</h4> <table><thead><tr><th>数据类型</th> <th>储存范围</th> <th>字节</th></tr></thead> <tbody><tr><td>TINYINT</td> <td>有符号值: -128 到127 (-2^7 到2^7-1)<br>无符号值: 0到255 (0到2^8-1)</td> <td>1</td></tr> <tr><td>SMALLINT</td> <td>有符号值: -32768 到32767 (- 2^15到2^15-1)<br>无符号值: 0到65535 (0到2^16- 1)</td> <td>2</td></tr> <tr><td>MEDIUMINT</td> <td>有符号值: -8388608 到8388607 (- 2^23到2^23 -1 )<br>无符号值: 0到16777215 (0到2^24-1)</td> <td>3</td></tr> <tr><td>INT</td> <td>有符号值: -2147683648 到2147683647 (- 2^31到2^31.-1)<br>无符号值: 0到4294967295 (0 到2^32-1)</td> <td>4</td></tr> <tr><td>BIGINT</td> <td>有符号值: -9223372036854775808 到9223373036854775807 (- 2^63到2^63-1)<br>无符号值: 0到18446744073709551615 (0到2^64-1)</td> <td>8</td></tr> <tr><td>BOOL,BOOLEAN</td> <td>等价于TINYINT(1)，0为false,其 余为true</td> <td>1</td></tr></tbody></table> <h4 id="浮点型"><a href="#浮点型" class="header-anchor">#</a> 浮点型</h4> <table><thead><tr><th>数据类型</th> <th>存储范围</th> <th>字节</th></tr></thead> <tbody><tr><td>FLOAT[(M,D)]</td> <td>负数取值范围为-3.40E+38到-1.17E-38、0和1.175E-38到3.40E+38。<br>M是数字总位数，D是小数点后面的位数。如果M和D被省略，根据硬件允许的限制来保存值。单精度浮点数精确到大约7位小数位。</td> <td>4</td></tr> <tr><td>DOUBLE[(M,D)]</td> <td>-1.79E+308到-2.22E-308、0和2.22E-308到1.79E+308。</td> <td>8</td></tr> <tr><td>DECIMAL[(M,D)]</td> <td>和DOUBLE一样，内部以字符串形式存储数值</td> <td>M+2</td></tr></tbody></table> <h4 id="字符串类型"><a href="#字符串类型" class="header-anchor">#</a> 字符串类型</h4> <pre><code>CHAR效率高于VARCHAR,CHAR相当于拿空间换时间，VARCHAR拿时间换空间
CHAR默认存储数据的时候，后面会用空格填充到指定长度；而在检索的时候会去掉后面空格；VARCHAR在保存的时候不进行填充，尾部的空格会留下
TEXT列不能有默认值,检索的时候不存在大小写转换
</code></pre> <table><thead><tr><th>列类型</th> <th>存储需求</th></tr></thead> <tbody><tr><td>CHAR(M)</td> <td>M个字节，0&lt;=M&lt;= 255</td></tr> <tr><td>VARCHAR(M)</td> <td>L+1个字节，其中L &lt;= M且0 &lt;= M &lt;= 65535</td></tr> <tr><td>TINYTEXT</td> <td>L+1个字节，其中L&lt;28</td></tr> <tr><td>TEXT</td> <td>L+2个字节，其中L&lt;2^16</td></tr> <tr><td>MEDIUMTEXT</td> <td>L+3个字节，其中L&lt; 2^24</td></tr> <tr><td>LONGTEXT</td> <td>L+4个字节，其中L&lt;2^32</td></tr> <tr><td>ENUM'aluel1'}value2..I</td> <td>1或2个字节，取决于枚举值的个数(最多65,535个值)</td></tr> <tr><td>SET('valuel1,'vlue2&quot;..</td> <td>1、2. 3、4或者8个字节，取决于set成员的数目(最多64个成员</td></tr></tbody></table> <h4 id="日期时间类型"><a href="#日期时间类型" class="header-anchor">#</a> 日期时间类型</h4> <table><thead><tr><th>列类型</th> <th>存储范围</th> <th>存储需求</th></tr></thead> <tbody><tr><td>TIME</td> <td>-838:59:59 ~ 838:59:59</td> <td>3</td></tr> <tr><td>DATE</td> <td>1000-01-01 ~ 9999-12-31</td> <td>3</td></tr> <tr><td>DATETIME</td> <td>1000-01 -01 00:00:00~ 999-12-31 23:59:59</td> <td>8</td></tr> <tr><td>TIMESTAMP</td> <td>1970-01 -01 00:00:01 UTC ~ 2038 01-19 03:14:07</td> <td>4</td></tr> <tr><td>YEAR</td> <td>1901~2155</td> <td>1</td></tr></tbody></table> <h3 id="_6-mysql存储引擎"><a href="#_6-mysql存储引擎" class="header-anchor">#</a> 6.MYSQL存储引擎</h3> <h3 id="myisam存储引擎"><a href="#myisam存储引擎" class="header-anchor">#</a> MyISAM存储引擎</h3> <ol><li><strong>默认MyISAM的表会在磁盘中产生3个文件</strong>
​	.frm
​		<code>表结构文件</code>
​	.MYD
​		<code>数据文件</code>
​	.MYI
​		<code>索引文件</code></li> <li><strong>可以在创建的时候指定数据文件和索引文件的存储位置，只有MyISAM表支持</strong> <strong>DATA DIRECORY [=] 数据保存的绝对路径</strong>
INDEX DIRECTORY [=] 索引文件保存的绝对路径</li> <li>MyISAM单表最大支持的数据量2的64次方条记录</li> <li>每个表最多可以建立64个索引</li> <li>如果是复合索引，每个复合索引最多包含16个列，索引值最大长度是1000B</li> <li><strong>MyISAM引擎的存储格式</strong> <code>定长（FIXED 静态）</code>:
是指字段中不包含VARCHAR/TEXT/BLOB
<code>动态（DYNAMIC）</code>:
只要字段中包含了VARCHAR/TEXT/BLOB
<code>压缩（COMPRESSED）</code>:
myisampack创建</li></ol> <h3 id="innodb存储引擎"><a href="#innodb存储引擎" class="header-anchor">#</a> InnoDB存储引擎</h3> <ol><li>设计遵循ACID模型，支持事务，具有从服务崩溃中恢复的能力，能够最大限度保护用户的数据</li> <li>支持行级锁，可以提升多用户并发时的读写性能</li> <li>支持外键，保证数据的一致性和完整性</li> <li>InnoDB拥有自己独立的缓冲池，常用的数据和索引都在缓存中</li> <li>对于INSERT、UPDATE、DELETE操作，InnoDB会使用一种change buffering的机制来自动优化，还可以提供一致性的读，并且还能够缓存变更的数据，减少磁盘I/O，提高性能</li> <li><strong>创建InnoDB表之后会产生两个文件</strong>
.frm表结构文件
.ibd,数据和索引存储表空间中</li> <li>所有的表都需要创建主键，最好是配合上AUTO_INCREMENT,也可以放到经常查询的列作为主键</li></ol> <h3 id="_7-mysql数据操作"><a href="#_7-mysql数据操作" class="header-anchor">#</a> 7.MYSQL数据操作</h3> <h4 id="添加记录"><a href="#添加记录" class="header-anchor">#</a> 添加记录</h4> <ol><li>INSERT [INTO] tbl_name[(col_name,...)] {VALUE|VALUES}(VALUES...);</li> <li><strong>不指定字段名称</strong>:
INSERT tbl_name VALUE(value...)
需要按照建表时的字段顺序给每一个字段赋值</li> <li><strong>列出指定字段</strong>
INSERT tbl_name(字段名称,...) VALUES(值,...)</li> <li><strong>INSERT ... SET的形式</strong>
INSERT tbl_name SET 字段名称=值,...;</li> <li><strong>INSERT ... SELECT</strong>
INSERT tbl_name[(字段名称...)] SELECT 字段名称,... FROM  tbl_name [WHERE 条件]</li> <li><strong>一次添加多条记录</strong>
INSERT tbl_name[(字段名称,...)] VALUES(值,...),
(值,....),
(值,...)</li></ol> <h4 id="修改记录"><a href="#修改记录" class="header-anchor">#</a> 修改记录</h4> <ul><li>UPDATE tbl_name SET 字段名称=值,字段名称=值 [WHERE 条件]</li> <li>如果不添加条件，整个表中的记录都会被更新</li></ul> <h4 id="删除记录"><a href="#删除记录" class="header-anchor">#</a> 删除记录</h4> <ol><li>DELETE FROM tbl_name [WHERE 条件]</li> <li>如果不添加条件，表中所有记录都会被删除</li> <li>DELETE 清空数据表的时候不会重置AUTO_INCREMENT的值，可以通过ALTER 语句将其重置为1</li> <li>彻底清空数据表
<code>TRUNCATE [TABLE] tbl_name;</code>
清除表中所有记录
会重置AUTO_INCREMENT的值</li></ol> <h4 id="查询记录"><a href="#查询记录" class="header-anchor">#</a> 查询记录</h4> <ol><li><p>SELECT select_expr,... FROM tbl_name
[WHERE 条件]
[GROUP BY {col_name|position} HAVING 二次筛选]
[ORDER BY {col_name|position|expr} [ASC|DESC]]
[LIMIT 限制结果集的显示条数]</p></li> <li><p><strong>查询表中所有记录</strong>:
SELECT * FROM tbl_name;
*所有字段</p></li> <li><p><strong>指定字段的信息</strong>:
SELECT 字段名称,... FROM tbl_name</p></li> <li><p><strong>库名.表名</strong>:
SELECT 字段名称,... FROM db_name.tbl_name;</p></li> <li><p><strong>给字段起别名</strong>:
SELECT 字段名称 [AS] 别名名称,... FROM db_name.tbl_name;</p></li> <li><p><strong>给数据表起别名</strong>:
SELECT 字段名称 ,... FROM tbl_name [AS] 别名;</p></li> <li><p><strong>表名.字段名的</strong>:
SELECT tbl_name.col_name,... FROM tbl_name;</p> <h5 id="where-条件"><a href="#where-条件" class="header-anchor">#</a> WHERE 条件</h5> <p>会筛选出符合条件的记录</p></li></ol> <table><thead><tr><th>比较运算符</th> <th></th></tr></thead> <tbody><tr><td>IS [NOT] NULL</td> <td>检测值是否为NULL或者NOT NULL</td></tr> <tr><td>指定范围</td> <td>[NOT] BETWEEN ... AND</td></tr> <tr><td>指定集合</td> <td>[NOT] IN(值,...)</td></tr> <tr><td>逻辑运算符</td> <td>AND    OR</td></tr> <tr><td>匹配字符</td> <td>[NOT] LIKE    %-任意长度的字符串</td></tr></tbody></table> <h5 id="group-by分组"><a href="#group-by分组" class="header-anchor">#</a> GROUP BY分组</h5> <ol><li>把值相同放到一个组中，最终查询出的结果只会显示组中一条记录</li> <li>分组配合GROUP_CONCAT()查看组中某个字段的详细信息</li> <li>配合WITH ROLLUP关键使用,会在记录末尾添加一条记录，是上面所有记录的总和</li> <li>HAVING子句对分组结果进行二次筛选</li></ol> <p><strong>配合聚合函数使用</strong></p> <ul><li><code>COUNT()</code>
统计记录总数
如果写的是COUNT(字段名称)，字段中的值为NULL，不统计进来
写COUNT(*)会统计NULL值</li> <li><code>SUM()</code>
求和</li> <li><code>MAX()</code>
求最大值</li> <li><code>MIN()</code>
求最小值</li> <li><code>AVG()</code>
求平均值</li></ul> <p><code>ORDER BY 排序</code>
ORDER BY 字段名称 ASC|DESC</p> <p><strong>LIMIT 限制结果集显示条数</strong></p> <ul><li><code>LIMIT 值</code>
显示结果集的前几条记录</li> <li><code>LIMIT offset,row_count</code>
从offset开始，显示几条记录,offset从0开始</li></ul> <h4 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> 多表查询</h4> <p><code>笛卡尔积的形式</code></p> <p><code>内连接的形式：</code></p> <ul><li>查询两个表中符合连接条件的记录</li> <li><code>SELECT 字段名称,... FROM tbl_name1</code> <code>INNER JOIN tbl_name2</code> <code>ON 连接条件</code></li></ul> <p><code>外连接的形式：</code></p> <p><strong>左外连接</strong></p> <ul><li>SELECT 字段名称,... FROM tbl_name1
LEFT [OUTER] JOIN tbl_name2
ON 条件;</li> <li>SELECT 字段名称,... FROM tbl_name1
LEFT [OUTER] JOIN tbl_name2
ON 条件;</li></ul> <p><strong>右外连接</strong></p> <ul><li>SELECT 字段名称,... FROM tbl_name1
RIGHT [OUTER] JOIN tbl_name2
ON 条件;</li> <li>先显示右表中的全部记录，再去左表中查询复合条件的记录，不符合的以NULL代替</li></ul> <h4 id="外键约束"><a href="#外键约束" class="header-anchor">#</a> 外键约束</h4> <p><strong><code>只有InnoDB存储引擎支持外键</code></strong></p> <p><strong>创建外键：</strong></p> <p><strong>建表时指定外键</strong></p> <ol><li><p>[CONSTRAINT 外键名称 ]FOREIGN KEY(字段名称) REFERENCES 主表(字段名称)</p></li> <li><p>子表的外键字段和主表的主键字段类型要相似；如果是数值型要求一致，并且无符号也要一致；如果是字符型，要求类型一致，长度可以不同</p></li> <li><p>如果外键字段没有创建索引，MySQL会自动帮我们添加索引</p></li> <li><p>子表的外键关联的必须是父表的主键</p></li> <li><p><strong>外键约束的参照操作</strong>:<code>CASCADE</code>从父表删除或更新，子表也跟着删除或者更新，级联的操作</p> <p><code>SET NULL</code>从父表删除或者更新记录，并设置子表的外键列为NULL。
<code>NO ACTION | RESTRICT</code>拒绝对父表做更新或者删除操作</p></li></ol> <p><strong>动态创建外键</strong></p> <ol><li>动态添加外键
<code>ALTER TABLE tbl_name ADD [CONSTRAINT 外键名称] FOREIGN KEY(外键字段) REFERENCES 主表(主键字段);</code> <code>动态添加外键之前表中的记录一定合法的记录，没有脏值，否则外键添加不成功</code></li> <li>动态删除外键
<code>ALTER TABLE tbl_name</code> <code>DROP FOREIGN KEY fk_name;</code></li></ol> <h4 id="特殊形式的查询"><a href="#特殊形式的查询" class="header-anchor">#</a> 特殊形式的查询</h4> <h5 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h5> <ol><li>SELECT 字段名称 FROM tbl_name WHERE col_name=(SELECT col_name FROM tbl_name)</li> <li>内层语句查询的结果可以做为外层语句查询的条件</li> <li>由IN引发的子查询</li> <li>由比较运算符引出子查询</li> <li>由EXISTS引发的子查询</li> <li>INSERT ... SELECT</li> <li>CREATE ... SELECT</li> <li>CREATE TABLE tbl_name LIKE tbl_name;</li></ol> <p><strong>ANY SOME ALL</strong></p> <table><thead><tr><th style="text-align:center;">运算符 /关键字</th> <th>ANY</th> <th>SOME</th> <th>ALL</th></tr></thead> <tbody><tr><td style="text-align:center;">&gt;、&gt;=</td> <td>最小值</td> <td>最小值</td> <td>最大值</td></tr> <tr><td style="text-align:center;">&lt;、&lt;=</td> <td>最大值</td> <td>最大值</td> <td>最小值</td></tr> <tr><td style="text-align:center;">=</td> <td>任意值</td> <td>任意值</td> <td></td></tr> <tr><td style="text-align:center;">&lt;&gt;、!=、</td> <td></td> <td></td> <td>任意值</td></tr></tbody></table> <h5 id="联合查询"><a href="#联合查询" class="header-anchor">#</a> 联合查询</h5> <ol><li><strong>UNION</strong>
SELECT 字段名称,... FROM tbl_name1
UNION
SELECT 字段名称... FROM tbl_name2;</li> <li><strong>UNION ALL</strong>
SELECT 字段名称,... FROM tbl_name1
UNION ALL
SELECT 字段名称... FROM tbl_name2;</li> <li>UNION ALL 是简单的合并，UNION会去掉表中重复记录</li></ol> <h5 id="自身连接查询"><a href="#自身连接查询" class="header-anchor">#</a> 自身连接查询</h5> <ul><li>无限级分类的实现形式</li></ul> <h3 id="_8-mysql常用函数"><a href="#_8-mysql常用函数" class="header-anchor">#</a> 8.MYSQL常用函数</h3> <h3 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h3> <ol><li><code>CEIL()</code>进一取整</li> <li><code>FLOOR()</code>舍掉小数部分</li> <li><code>ROUND()</code>四舍五入</li> <li><code>TRUNCATE()</code>截取小数点后几位</li> <li><code>MOD()</code>取余数</li> <li><code>ABS()</code>取绝对值</li> <li><code>POWER()</code>幂运算</li> <li><code>PI()</code>圆周率</li> <li><code>RAND()或者RAND(X)</code>0~1之间的随机数</li> <li><code>SIGN(X)</code>得到数字符号</li> <li><code>EXP(X)</code>计算e的x次方</li></ol> <h3 id="_9-图形化工具管理数据库"><a href="#_9-图形化工具管理数据库" class="header-anchor">#</a> 9.图形化工具管理数据库</h3> <p><strong>BS</strong>:<code>phpmyadmin</code></p> <p><strong>CS</strong>:</p> <ul><li>Sequel Pro</li> <li><strong>windows</strong>:<code>SQLyog</code>,<code>navit for mysql</code>,<code>mysql front</code>,<code>mysql workbench</code></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/TimSpan/documents/edit/master/php/MySql.md" target="_blank" rel="noopener noreferrer">编辑文档！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-12-17 11:56:16</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/documents/assets/js/app.44e83760.js" defer></script><script src="/documents/assets/js/2.3e89d58d.js" defer></script><script src="/documents/assets/js/35.8759ef00.js" defer></script>
  </body>
</html>
