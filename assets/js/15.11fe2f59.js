(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{205:function(t,s,a){t.exports=a.p+"assets/img/1.2c283ee0.png"},312:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"laravel实战"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laravel实战"}},[t._v("#")]),t._v(" Laravel实战")]),t._v(" "),n("p",[t._v("文章模块路由的实现")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("创建控制器")]),t._v(" "),n("li",[t._v("创建路由(增删改查)")]),t._v(" "),n("li")]),t._v(" "),n("p",[n("code",[t._v("web.php")])]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文章列表页")]),t._v("\nRoute"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/posts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'\\App\\Http\\Controllers\\PostController@index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建文章")]),t._v("\nRoute"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/posts/create'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'\\App\\Http\\Controllers\\PostController@create'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nRoute"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/posts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'\\App\\Http\\Controllers\\PostController@store'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//文章详情页")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//编辑文章")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除文章")]),t._v("\n")])])]),n("p",[t._v("文章模块的页面渲染")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[n("p",[t._v("创建文章")])]),t._v(" "),n("li",[n("p",[t._v("编辑文章")])]),t._v(" "),n("li",[n("p",[t._v("文章列表")])]),t._v(" "),n("li",[n("p",[t._v("文章详情")])])]),t._v(" "),n("p",[t._v("文章模块的页面模板调整")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("提取layout")]),t._v(" "),n("li",[t._v("提取footer")]),t._v(" "),n("li",[t._v("提取"),n("code",[t._v("nav")])])]),t._v(" "),n("p",[t._v("文章模块数据表")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("使用migrate创建数据表")]),t._v(" "),n("li",[t._v("表名 posts")]),t._v(" "),n("li",[t._v("外键 user_id")]),t._v(" "),n("li",[t._v("时间 created_at / updated_at")])]),t._v(" "),n("p",[t._v("文章模块模型")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("ORM")]),t._v(" "),n("li",[t._v("创建  "),n("code",[t._v("posts")]),t._v("  的模型")]),t._v(" "),n("li",[n("code",[t._v("tinker")]),t._v("   的使用")]),t._v(" "),n("li",[t._v("基本的增删改查")])]),t._v(" "),n("p",[n("code",[t._v("修改时区")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(205),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"文章模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文章模块"}},[t._v("#")]),t._v(" 文章模块")]),t._v(" "),n("p",[t._v("文章列表")]),t._v(" "),n("ul",[n("li",[t._v("模型查找")]),t._v(" "),n("li",[t._v("页面渲染")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://carbon.nesbot.com/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("时间格式"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://carbon.nesbot.com/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据填充"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("字符截断")]),t._v(" "),n("li",[t._v("分页")])]),t._v(" "),n("p",[t._v("文章详情")]),t._v(" "),n("ul",[n("li",[t._v("控制器")]),t._v(" "),n("li",[t._v("路由兵丁")]),t._v(" "),n("li",[t._v("页面编写")]),t._v(" "),n("li",[t._v("列表页补充")])]),t._v(" "),n("p",[t._v("添加文章逻辑")]),t._v(" "),n("ul",[n("li",[t._v("控制器")]),t._v(" "),n("li",[n("code",[t._v("csrf")])]),t._v(" "),n("li",[t._v("保存model")]),t._v(" "),n("li",[t._v("验证和错误提示")]),t._v(" "),n("li",[t._v("错误提示本地化")])]),t._v(" "),n("p",[t._v("编辑文章")]),t._v(" "),n("ul",[n("li")]),t._v(" "),n("p",[t._v("删除文章")]),t._v(" "),n("h2",{attrs:{id:"登录，注册，评论，赞模块开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登录，注册，评论，赞模块开发"}},[t._v("#")]),t._v(" 登录，注册，评论，赞模块开发")]),t._v(" "),n("p",[t._v("页面搭建")]),t._v(" "),n("hr"),t._v(" "),n("ul",[n("li",[t._v("登陆页面\n"),n("ul",[n("li",[t._v("为什么不使用  "),n("code",[t._v("Auth")]),t._v("  组件？原因：一般来说前台的业务登录逻辑会比较复杂，用 "),n("code",[t._v("Auth")]),t._v(" 组件修改起来就会非常复杂。所以在前台我们只使用 "),n("code",[t._v("Auth")]),t._v(" 的管理类")])])]),t._v(" "),n("li",[t._v("注册页面")]),t._v(" "),n("li",[t._v("个人设置")])]),t._v(" "),n("p",[t._v("业务逻辑")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("注册")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[t._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//验证")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'required|min:3|unique:users,name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'email'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'required|unique:users,email|email'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'required|min:5|confirmed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//逻辑")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bcrypt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$name")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$email")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'email'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \\"),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compact")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'email'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//渲染")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/login'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("登录")])]),t._v(" "),n("li",[n("p",[t._v("用户授权Policy")]),t._v(" "),n("ul",[n("li",[t._v("定义策略类")]),t._v(" "),n("li",[t._v("注册策略类和模型关联")]),t._v(" "),n("li",[t._v("策略判断")])])]),t._v(" "),n("li",[n("p",[t._v("认证权限")]),t._v(" "),n("ul",[n("li",[t._v("文章创建增加用户")]),t._v(" "),n("li",[t._v("控制器")]),t._v(" "),n("li",[t._v("Layout")]),t._v(" "),n("li",[t._v("文章编辑权限")]),t._v(" "),n("li",[t._v("退出")])])]),t._v(" "),n("li",[n("p",[t._v("头像设置")])])]),t._v(" "),n("h2",{attrs:{id:"个人中心，专题模块搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#个人中心，专题模块搭建"}},[t._v("#")]),t._v(" 个人中心，专题模块搭建")]),t._v(" "),n("h2",{attrs:{id:"后台模块搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后台模块搭建"}},[t._v("#")]),t._v(" 后台模块搭建")])])}),[],!1,null,null,null);s.default=e.exports}}]);